/* Responsive Design Media Queries */

@media (max-width: 768px) {
  .terminal-container {
    margin: var(--spacing-sm);
    border-radius: var(--radius-md);
  }
  
  .terminal-content {
    padding: var(--spacing-lg);
  }

  .image-upload__grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--spacing-md);
  }
  
  .image-preview-modal__controls {
    flex-direction: column;
  }
  
  .image-upload__dropzone {
    padding: var(--spacing-lg);
  }
  
  .image-upload__icon {
    font-size: 36px;
  }

  /* Mobile-specific ASCII art fixes */
  .ascii-logo-single,
  .ascii-logo-two-lines,
  .ascii-plant-logo {
    /* Force hardware acceleration for smoother rendering */
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* Disable subpixel rendering that can cause alignment issues */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
  }
}

@media (max-width: 480px) {
  .terminal-content {
    padding: var(--spacing-md);
  }

  .image-upload__icon {
    font-size: 28px;
  }

  .terminal-button--lg {
    font-size: var(--font-size-md);
    padding: var(--spacing-sm) var(--spacing-lg);
  }
}

/* Specific fixes for Android Chrome ASCII art rendering issues */
@media screen and (-webkit-min-device-pixel-ratio: 0) and (max-width: 768px) {
  .ascii-logo-single,
  .ascii-logo-two-lines,
  .ascii-plant-logo {
    /* Slightly reduce font size on Android to improve character alignment */
    font-size: calc(clamp(0.25rem, 1.2vw, 0.75rem) * 0.98) !important;
    /* Add slight letter spacing adjustment for Android Chrome */
    letter-spacing: -0.01em;
    /* Ensure crisp edges */
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  .ascii-logo-two-lines {
    font-size: calc(clamp(0.3rem, 2.25vw, 0.6rem) * 0.98) !important;
  }
  
  .ascii-plant-logo {
    font-size: calc(clamp(0.5em, 1vw, 0.55em) * 0.98) !important;
  }
}

/* Additional fixes for very specific Android Chrome scenarios */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  .ascii-logo-single,
  .ascii-logo-two-lines,
  .ascii-plant-logo {
    /* For high DPI Android devices, apply even more precise adjustments */
    transform: translateZ(0) scale(0.995);
    transform-origin: top left;
  }
}

/* Fallback for older Android versions */
@media screen and (max-device-width: 768px) and (orientation: portrait) {
  .ascii-logo-single,
  .ascii-logo-two-lines,
  .ascii-plant-logo {
    /* Ensure consistent rendering on portrait orientation */
    writing-mode: horizontal-tb;
    text-orientation: mixed;
    unicode-bidi: normal;
  }
}
